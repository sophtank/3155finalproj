{% extends '_layout.html' %} 
<div>
  {% with messages = get_flashed_messages(with_categories=true) %}
      {% for category, message in messages %}
          <div class="alert alert-{{ category }}" role="alert">
              {{ message }}
          </div>
      {% endfor %}
  {% endwith %}
</div>
{% block body %}
<link rel="stylesheet" href="../static/Styles/create_drive.css">
<h1 class="text-center">Recent Drives</h1>
<main class="container mt-2">
  {% if drives %}
  {% for drive in drives %}
    {% if loop.index is odd %}
    <div class="row">
    {% endif %}
    <div class="card mb-3 mx-2 individualbox" style="max-width: 540px;">
      <div class="row no-gutters">
        <div class="col-md-4">
          <img src="{{ drive.photo }}" class="card-img" alt="This graphic file is not supported" style="width: 100%; height: 100%;">
        </div>
        <div class="col-md-8">
          <div class="card-body">
            <small>{{ drive.first_name}} {{ drive.last_name }}</small>
            <br>
            <big>{{ drive.title }}</big>
            <br>
            <small>
              {{ drive.date }}
              <br>
              {{ drive.mileage }} mi
            </small>
            <br>
            <a href="/drive/{{ drive.drive_id }}"><button type="submit" class="btn btn-primary">View Drive</button></a>
          </div>
        </div>
      </div>
      </div>
    {% if loop.index is even %}
    </div>
    {% endif %}
    {% endfor %}
  {% else %}
    <h1 class="text-center mt-2">There are no drives logged.</h1>
    <h2 class="text-center"><a href="/drive/create" class="text-center link-secondary">Create a drive to view here.</a></h2>
    {% endif %}
  </main>
{%endblock%}